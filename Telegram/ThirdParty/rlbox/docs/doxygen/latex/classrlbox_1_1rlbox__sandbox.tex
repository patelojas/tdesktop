\hypertarget{classrlbox_1_1rlbox__sandbox}{}\doxysection{rlbox\+::rlbox\+\_\+sandbox$<$ T\+\_\+\+Sbx $>$ Class Template Reference}
\label{classrlbox_1_1rlbox__sandbox}\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}


Encapsulation for sandboxes.  




{\ttfamily \#include $<$rlbox\+\_\+sandbox.\+hpp$>$}



Inheritance diagram for rlbox\+::rlbox\+\_\+sandbox$<$ T\+\_\+\+Sbx $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{classrlbox_1_1rlbox__sandbox__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for rlbox\+::rlbox\+\_\+sandbox$<$ T\+\_\+\+Sbx $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{classrlbox_1_1rlbox__sandbox__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a2236c8f780e2fbb505b616a05d632298}\label{classrlbox_1_1rlbox__sandbox_a2236c8f780e2fbb505b616a05d632298}} 
{\footnotesize template$<$typename T $>$ }\\using {\bfseries convert\+\_\+to\+\_\+sandbox\+\_\+equivalent\+\_\+nonclass\+\_\+t} = detail\+::convert\+\_\+base\+\_\+types\+\_\+t$<$ T, typename T\+\_\+\+Sbx\+::\+T\+\_\+\+Short\+Type, typename T\+\_\+\+Sbx\+::\+T\+\_\+\+Int\+Type, typename T\+\_\+\+Sbx\+::\+T\+\_\+\+Long\+Type, typename T\+\_\+\+Sbx\+::\+T\+\_\+\+Long\+Long\+Type, typename T\+\_\+\+Sbx\+::\+T\+\_\+\+Pointer\+Type $>$
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a09c972acd976ab264478c3abd32f8383}\label{classrlbox_1_1rlbox__sandbox_a09c972acd976ab264478c3abd32f8383}} 
{\footnotesize template$<$typename T\+\_\+\+Ret , typename... T\+\_\+\+Args$>$ }\\using {\bfseries T\+\_\+\+Cb\+\_\+no\+\_\+wrap} = detail\+::rlbox\+\_\+remove\+\_\+wrapper\+\_\+t$<$ T\+\_\+\+Ret $>$(detail\+::rlbox\+\_\+remove\+\_\+wrapper\+\_\+t$<$ T\+\_\+\+Args $>$...)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a32de91755a582024dc43b879ef192b2c}\label{classrlbox_1_1rlbox__sandbox_a32de91755a582024dc43b879ef192b2c}} 
T\+\_\+\+Sbx $\ast$ {\bfseries get\+\_\+sandbox\+\_\+impl} ()
\item 
{\footnotesize template$<$typename... T\+\_\+\+Args$>$ }\\auto \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a7b938866462f607bcc069770c1bc1ba6}{create\+\_\+sandbox}} (T\+\_\+\+Args... args)
\begin{DoxyCompactList}\small\item\em Create a new sandbox. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ac2be161ed2183fa8bc319232a8d74da6}\label{classrlbox_1_1rlbox__sandbox_ac2be161ed2183fa8bc319232a8d74da6}} 
auto \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_ac2be161ed2183fa8bc319232a8d74da6}{destroy\+\_\+sandbox}} ()
\begin{DoxyCompactList}\small\item\em Destroy sandbox and reclaim any memory. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a4776bcab38dc24395657d2c437e36fc8}\label{classrlbox_1_1rlbox__sandbox_a4776bcab38dc24395657d2c437e36fc8}} 
{\footnotesize template$<$typename T $>$ }\\T {\bfseries get\+\_\+unsandboxed\+\_\+pointer} (convert\+\_\+to\+\_\+sandbox\+\_\+equivalent\+\_\+nonclass\+\_\+t$<$ T $>$ p) const
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_aaef51e55536f08aa4c642f21d0de8008}\label{classrlbox_1_1rlbox__sandbox_aaef51e55536f08aa4c642f21d0de8008}} 
{\footnotesize template$<$typename T $>$ }\\convert\+\_\+to\+\_\+sandbox\+\_\+equivalent\+\_\+nonclass\+\_\+t$<$ T $>$ {\bfseries get\+\_\+sandboxed\+\_\+pointer} (const void $\ast$p) const
\item 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_ab6ecbc8d0d69a3305912fe92882ef6b9}{malloc\+\_\+in\+\_\+sandbox}} ()
\begin{DoxyCompactList}\small\item\em Allocate a new pointer that is accessible to both the application and sandbox. The pointer is allocated in sandbox memory. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a967ee4efa3c49a4493eaeda65b338e70}{malloc\+\_\+in\+\_\+sandbox}} (uint32\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Allocate an array that is accessible to both the application and sandbox. The pointer is allocated in sandbox memory. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a775b1828f996dc8f14f24a296096e0e3}{free\+\_\+in\+\_\+sandbox}} (\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ ptr)
\begin{DoxyCompactList}\small\item\em Free the memory referenced by the tainted pointer. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_ad26f351fa58e8fa013e79afb996dc807}{free\+\_\+in\+\_\+sandbox}} (\mbox{\hyperlink{classrlbox_1_1tainted__volatile}{tainted\+\_\+volatile}}$<$ T, T\+\_\+\+Sbx $>$ \&ptr\+\_\+ref)
\begin{DoxyCompactList}\small\item\em Free the memory referenced by a \mbox{\hyperlink{classrlbox_1_1tainted__volatile}{tainted\+\_\+volatile}} pointer ref. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a75636dbe30d516a71f13841a4a64a854}{free\+\_\+in\+\_\+sandbox}} (\mbox{\hyperlink{classrlbox_1_1tainted__opaque}{tainted\+\_\+opaque}}$<$ T, T\+\_\+\+Sbx $>$ ptr\+\_\+opaque)
\begin{DoxyCompactList}\small\item\em Free the memory referenced by a \mbox{\hyperlink{classrlbox_1_1tainted__opaque}{tainted\+\_\+opaque}} pointer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a55e48f0300c16d36ea7ed5a7e4750f64}\label{classrlbox_1_1rlbox__sandbox_a55e48f0300c16d36ea7ed5a7e4750f64}} 
bool \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a55e48f0300c16d36ea7ed5a7e4750f64}{is\+\_\+pointer\+\_\+in\+\_\+sandbox\+\_\+memory}} (const void $\ast$p)
\begin{DoxyCompactList}\small\item\em Check if the pointer points to this sandbox\textquotesingle{}s memory. For the null-\/sandbox, this always returns true. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_afc6c3f229b2807517c54cc120dfda941}\label{classrlbox_1_1rlbox__sandbox_afc6c3f229b2807517c54cc120dfda941}} 
bool \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_afc6c3f229b2807517c54cc120dfda941}{is\+\_\+pointer\+\_\+in\+\_\+app\+\_\+memory}} (const void $\ast$p)
\begin{DoxyCompactList}\small\item\em Check if the pointer points to application memory. For the null-\/sandbox, this always returns true. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a9bfda00c80c73e70ddbc3f2419066cb8}\label{classrlbox_1_1rlbox__sandbox_a9bfda00c80c73e70ddbc3f2419066cb8}} 
size\+\_\+t {\bfseries get\+\_\+total\+\_\+memory} ()
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_af682f225ef74ad07cfa5c25e7c8ed42c}\label{classrlbox_1_1rlbox__sandbox_af682f225ef74ad07cfa5c25e7c8ed42c}} 
void $\ast$ {\bfseries get\+\_\+memory\+\_\+location} ()
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a9b25c4fe571fbebd287fd5fbd5a2e2c7}\label{classrlbox_1_1rlbox__sandbox_a9b25c4fe571fbebd287fd5fbd5a2e2c7}} 
void $\ast$ {\bfseries get\+\_\+transition\+\_\+state} ()
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a96d6a841818c4342bb905670cfc3ca11}\label{classrlbox_1_1rlbox__sandbox_a96d6a841818c4342bb905670cfc3ca11}} 
void {\bfseries set\+\_\+transition\+\_\+state} (void $\ast$new\+\_\+state)
\item 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_ada1ed84dee64fc8fae57c38b36d77f02}{I\+N\+T\+E\+R\+N\+A\+L\+\_\+grant\+\_\+access}} (T $\ast$src, size\+\_\+t num, bool \&success)
\begin{DoxyCompactList}\small\item\em For internal use only. Grant access of the passed in buffer in to the sandbox instance. Called by internal A\+P\+Is only if the underlying sandbox supports can\+\_\+grant\+\_\+deny\+\_\+access by including the line. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\T $\ast$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a559c3f9ba49a099f959a0bdc9e48090d}{I\+N\+T\+E\+R\+N\+A\+L\+\_\+deny\+\_\+access}} (\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ src, size\+\_\+t num, bool \&success)
\begin{DoxyCompactList}\small\item\em For internal use only. Grant access of the passed in buffer in to the sandbox instance. Called by internal A\+P\+Is only if the underlying sandbox supports can\+\_\+grant\+\_\+deny\+\_\+access by including the line. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a38b2f18b1db0dbd789477a93d0dc40eb}\label{classrlbox_1_1rlbox__sandbox_a38b2f18b1db0dbd789477a93d0dc40eb}} 
void $\ast$ {\bfseries lookup\+\_\+symbol} (const char $\ast$func\+\_\+name)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a9f9e13680f09205f25a520fc04ef3f9a}\label{classrlbox_1_1rlbox__sandbox_a9f9e13680f09205f25a520fc04ef3f9a}} 
{\footnotesize template$<$typename T , typename... T\+\_\+\+Args$>$ }\\auto {\bfseries I\+N\+T\+E\+R\+N\+A\+L\+\_\+invoke\+\_\+with\+\_\+func\+\_\+name} (const char $\ast$func\+\_\+name, T\+\_\+\+Args \&\&... params)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a5eacf092a66c9d4f850b726ffdcd9926}\label{classrlbox_1_1rlbox__sandbox_a5eacf092a66c9d4f850b726ffdcd9926}} 
{\footnotesize template$<$typename T , typename... T\+\_\+\+Args$>$ }\\auto {\bfseries I\+N\+T\+E\+R\+N\+A\+L\+\_\+invoke\+\_\+with\+\_\+func\+\_\+ptr} (const char $\ast$func\+\_\+name, void $\ast$func\+\_\+ptr, T\+\_\+\+Args \&\&... params)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_acd10ff63b848c01690ba1f8977621a72}\label{classrlbox_1_1rlbox__sandbox_acd10ff63b848c01690ba1f8977621a72}} 
{\footnotesize template$<$typename T2 $>$ }\\\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T2, T\+\_\+\+Sbx $>$ {\bfseries U\+N\+S\+A\+F\+E\+\_\+accept\+\_\+pointer} (T2 ptr)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ad2cf7d6b28eca1cdc04cb3cbee338189}\label{classrlbox_1_1rlbox__sandbox_ad2cf7d6b28eca1cdc04cb3cbee338189}} 
{\footnotesize template$<$typename T\+\_\+\+Ret $>$ }\\\mbox{\hyperlink{classrlbox_1_1sandbox__callback}{sandbox\+\_\+callback}}$<$ T\+\_\+\+Cb\+\_\+no\+\_\+wrap$<$ T\+\_\+\+Ret $>$ $\ast$, T\+\_\+\+Sbx $>$ {\bfseries register\+\_\+callback} (T\+\_\+\+Ret($\ast$)())
\item 
{\footnotesize template$<$typename T\+\_\+\+RL , typename T\+\_\+\+Ret , typename... T\+\_\+\+Args$>$ }\\\mbox{\hyperlink{classrlbox_1_1sandbox__callback}{sandbox\+\_\+callback}}$<$ T\+\_\+\+Cb\+\_\+no\+\_\+wrap$<$ T\+\_\+\+Ret, T\+\_\+\+Args... $>$ $\ast$, T\+\_\+\+Sbx $>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_ae4f4cc7825bcb613ab5405e0f6cae7f3}{register\+\_\+callback}} (T\+\_\+\+Ret($\ast$func\+\_\+ptr)(T\+\_\+\+RL, T\+\_\+\+Args...))
\begin{DoxyCompactList}\small\item\em Expose a callback function to the sandboxed code. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ad65b42ed5e903655cc23cc9e33672b16}\label{classrlbox_1_1rlbox__sandbox_ad65b42ed5e903655cc23cc9e33672b16}} 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ {\bfseries I\+N\+T\+E\+R\+N\+A\+L\+\_\+get\+\_\+sandbox\+\_\+function\+\_\+name} (const char $\ast$func\+\_\+name)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a912906aabd93bf8358153b7a4c7e0adc}\label{classrlbox_1_1rlbox__sandbox_a912906aabd93bf8358153b7a4c7e0adc}} 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ {\bfseries I\+N\+T\+E\+R\+N\+A\+L\+\_\+get\+\_\+sandbox\+\_\+function\+\_\+ptr} (void $\ast$func\+\_\+ptr)
\item 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classrlbox_1_1app__pointer}{app\+\_\+pointer}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_acc0f5bdfa77546148ed15d06641659a5}{get\+\_\+app\+\_\+pointer}} (T $\ast$ptr)
\begin{DoxyCompactList}\small\item\em Create a \char`\"{}fake\char`\"{} pointer referring to a location in the application memory. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\T $\ast$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a2ed22fa984d2b3cba5352afbd4211bcd}{lookup\+\_\+app\+\_\+ptr}} (\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$ tainted\+\_\+ptr)
\begin{DoxyCompactList}\small\item\em The mirror of get\+\_\+app\+\_\+pointer. Take a tainted pointer which is actually an \mbox{\hyperlink{classrlbox_1_1app__pointer}{app\+\_\+pointer}}, and get the application location being pointed to. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a030d5e296cdeb24cd4ca99a5cbe0ea39}\label{classrlbox_1_1rlbox__sandbox_a030d5e296cdeb24cd4ca99a5cbe0ea39}} 
{\footnotesize template$<$typename T $>$ }\\static T {\bfseries get\+\_\+unsandboxed\+\_\+pointer\+\_\+no\+\_\+ctx} (convert\+\_\+to\+\_\+sandbox\+\_\+equivalent\+\_\+nonclass\+\_\+t$<$ T $>$ p, const void $\ast$example\+\_\+unsandboxed\+\_\+ptr)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a37e1e1468b883faf8a878b3c0a221d39}\label{classrlbox_1_1rlbox__sandbox_a37e1e1468b883faf8a878b3c0a221d39}} 
{\footnotesize template$<$typename T $>$ }\\static convert\+\_\+to\+\_\+sandbox\+\_\+equivalent\+\_\+nonclass\+\_\+t$<$ T $>$ {\bfseries get\+\_\+sandboxed\+\_\+pointer\+\_\+no\+\_\+ctx} (const void $\ast$p, const void $\ast$example\+\_\+unsandboxed\+\_\+ptr)
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a3257ffc0e7eb6022c05a049b8b36271f}\label{classrlbox_1_1rlbox__sandbox_a3257ffc0e7eb6022c05a049b8b36271f}} 
static bool \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a3257ffc0e7eb6022c05a049b8b36271f}{is\+\_\+in\+\_\+same\+\_\+sandbox}} (const void $\ast$p1, const void $\ast$p2)
\begin{DoxyCompactList}\small\item\em Check if two pointers are in the same sandbox. For the null-\/sandbox, this always returns true. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a61db4d3c217ee7acbc40e0bab23449e8}\label{classrlbox_1_1rlbox__sandbox_a61db4d3c217ee7acbc40e0bab23449e8}} 
void $\ast$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox_a61db4d3c217ee7acbc40e0bab23449e8}{sandbox\+\_\+storage}}
\begin{DoxyCompactList}\small\item\em Unused member that allows the calling code to save data in a \char`\"{}per-\/sandbox\char`\"{} storage. This can be useful to save context which is used in callbacks. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T\+\_\+\+Sbx$>$\newline
class rlbox\+::rlbox\+\_\+sandbox$<$ T\+\_\+\+Sbx $>$}

Encapsulation for sandboxes. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T\+\_\+\+Sbx} & Type of sandbox. For the null sandbox this is {\ttfamily \mbox{\hyperlink{classrlbox_1_1rlbox__noop__sandbox}{rlbox\+\_\+noop\+\_\+sandbox}}} \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a7b938866462f607bcc069770c1bc1ba6}\label{classrlbox_1_1rlbox__sandbox_a7b938866462f607bcc069770c1bc1ba6}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!create\_sandbox@{create\_sandbox}}
\index{create\_sandbox@{create\_sandbox}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{create\_sandbox()}{create\_sandbox()}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename... T\+\_\+\+Args$>$ \\
auto \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::create\+\_\+sandbox (\begin{DoxyParamCaption}\item[{T\+\_\+\+Args...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Create a new sandbox. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T\+\_\+args} & Arguments passed to the underlying sandbox implementation. For the null sandbox, no arguments are necessary. \\
\hline
\end{DoxyTemplParams}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a775b1828f996dc8f14f24a296096e0e3}\label{classrlbox_1_1rlbox__sandbox_a775b1828f996dc8f14f24a296096e0e3}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!free\_in\_sandbox@{free\_in\_sandbox}}
\index{free\_in\_sandbox@{free\_in\_sandbox}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{free\_in\_sandbox()}{free\_in\_sandbox()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
void \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::free\+\_\+in\+\_\+sandbox (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$}]{ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Free the memory referenced by the tainted pointer. 


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to sandbox memory to free. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a75636dbe30d516a71f13841a4a64a854}\label{classrlbox_1_1rlbox__sandbox_a75636dbe30d516a71f13841a4a64a854}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!free\_in\_sandbox@{free\_in\_sandbox}}
\index{free\_in\_sandbox@{free\_in\_sandbox}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{free\_in\_sandbox()}{free\_in\_sandbox()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
void \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::free\+\_\+in\+\_\+sandbox (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrlbox_1_1tainted__opaque}{tainted\+\_\+opaque}}$<$ T, T\+\_\+\+Sbx $>$}]{ptr\+\_\+opaque }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Free the memory referenced by a \mbox{\hyperlink{classrlbox_1_1tainted__opaque}{tainted\+\_\+opaque}} pointer. 


\begin{DoxyParams}{Parameters}
{\em ptr\+\_\+opaque} & Opaque pointer to sandbox memory to free. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ad26f351fa58e8fa013e79afb996dc807}\label{classrlbox_1_1rlbox__sandbox_ad26f351fa58e8fa013e79afb996dc807}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!free\_in\_sandbox@{free\_in\_sandbox}}
\index{free\_in\_sandbox@{free\_in\_sandbox}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{free\_in\_sandbox()}{free\_in\_sandbox()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
void \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::free\+\_\+in\+\_\+sandbox (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrlbox_1_1tainted__volatile}{tainted\+\_\+volatile}}$<$ T, T\+\_\+\+Sbx $>$ \&}]{ptr\+\_\+ref }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Free the memory referenced by a \mbox{\hyperlink{classrlbox_1_1tainted__volatile}{tainted\+\_\+volatile}} pointer ref. 


\begin{DoxyParams}{Parameters}
{\em ptr\+\_\+ref} & Pointer reference to sandbox memory to free. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_acc0f5bdfa77546148ed15d06641659a5}\label{classrlbox_1_1rlbox__sandbox_acc0f5bdfa77546148ed15d06641659a5}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!get\_app\_pointer@{get\_app\_pointer}}
\index{get\_app\_pointer@{get\_app\_pointer}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{get\_app\_pointer()}{get\_app\_pointer()}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
\mbox{\hyperlink{classrlbox_1_1app__pointer}{app\+\_\+pointer}}$<$T$\ast$, T\+\_\+\+Sbx$>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::get\+\_\+app\+\_\+pointer (\begin{DoxyParamCaption}\item[{T $\ast$}]{ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Create a \char`\"{}fake\char`\"{} pointer referring to a location in the application memory. 


\begin{DoxyParams}{Parameters}
{\em ptr} & The pointer to refer to\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \mbox{\hyperlink{classrlbox_1_1app__pointer}{app\+\_\+pointer}} object that refers to this location. 
\end{DoxyReturn}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a559c3f9ba49a099f959a0bdc9e48090d}\label{classrlbox_1_1rlbox__sandbox_a559c3f9ba49a099f959a0bdc9e48090d}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!INTERNAL\_deny\_access@{INTERNAL\_deny\_access}}
\index{INTERNAL\_deny\_access@{INTERNAL\_deny\_access}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{INTERNAL\_deny\_access()}{INTERNAL\_deny\_access()}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
T$\ast$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::I\+N\+T\+E\+R\+N\+A\+L\+\_\+deny\+\_\+access (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$}]{src,  }\item[{size\+\_\+t}]{num,  }\item[{bool \&}]{success }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



For internal use only. Grant access of the passed in buffer in to the sandbox instance. Called by internal A\+P\+Is only if the underlying sandbox supports can\+\_\+grant\+\_\+deny\+\_\+access by including the line. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{using} can\_grant\_deny\_access = void;}
\end{DoxyCode}
 \mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ada1ed84dee64fc8fae57c38b36d77f02}\label{classrlbox_1_1rlbox__sandbox_ada1ed84dee64fc8fae57c38b36d77f02}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!INTERNAL\_grant\_access@{INTERNAL\_grant\_access}}
\index{INTERNAL\_grant\_access@{INTERNAL\_grant\_access}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{INTERNAL\_grant\_access()}{INTERNAL\_grant\_access()}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$T$\ast$, T\+\_\+\+Sbx$>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::I\+N\+T\+E\+R\+N\+A\+L\+\_\+grant\+\_\+access (\begin{DoxyParamCaption}\item[{T $\ast$}]{src,  }\item[{size\+\_\+t}]{num,  }\item[{bool \&}]{success }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



For internal use only. Grant access of the passed in buffer in to the sandbox instance. Called by internal A\+P\+Is only if the underlying sandbox supports can\+\_\+grant\+\_\+deny\+\_\+access by including the line. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{using} can\_grant\_deny\_access = void;}
\end{DoxyCode}
 \mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a2ed22fa984d2b3cba5352afbd4211bcd}\label{classrlbox_1_1rlbox__sandbox_a2ed22fa984d2b3cba5352afbd4211bcd}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!lookup\_app\_ptr@{lookup\_app\_ptr}}
\index{lookup\_app\_ptr@{lookup\_app\_ptr}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{lookup\_app\_ptr()}{lookup\_app\_ptr()}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
T$\ast$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::lookup\+\_\+app\+\_\+ptr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$ T $\ast$, T\+\_\+\+Sbx $>$}]{tainted\+\_\+ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The mirror of get\+\_\+app\+\_\+pointer. Take a tainted pointer which is actually an \mbox{\hyperlink{classrlbox_1_1app__pointer}{app\+\_\+pointer}}, and get the application location being pointed to. 


\begin{DoxyParams}{Parameters}
{\em tainted\+\_\+ptr} & The tainted pointer that is actually an \mbox{\hyperlink{classrlbox_1_1app__pointer}{app\+\_\+pointer}}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The original location being referred to by the app\+\_\+ptr 
\end{DoxyReturn}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ab6ecbc8d0d69a3305912fe92882ef6b9}\label{classrlbox_1_1rlbox__sandbox_ab6ecbc8d0d69a3305912fe92882ef6b9}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!malloc\_in\_sandbox@{malloc\_in\_sandbox}}
\index{malloc\_in\_sandbox@{malloc\_in\_sandbox}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{malloc\_in\_sandbox()}{malloc\_in\_sandbox()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$T$\ast$, T\+\_\+\+Sbx$>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::malloc\+\_\+in\+\_\+sandbox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Allocate a new pointer that is accessible to both the application and sandbox. The pointer is allocated in sandbox memory. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the pointer you want to create. If T=int, this would return a pointer to an int.\\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
tainted$<$\+T$\ast$, T\+\_\+\+Sbx$>$ Tainted pointer accessible to the application and sandbox. 
\end{DoxyReturn}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_a967ee4efa3c49a4493eaeda65b338e70}\label{classrlbox_1_1rlbox__sandbox_a967ee4efa3c49a4493eaeda65b338e70}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!malloc\_in\_sandbox@{malloc\_in\_sandbox}}
\index{malloc\_in\_sandbox@{malloc\_in\_sandbox}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{malloc\_in\_sandbox()}{malloc\_in\_sandbox()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T $>$ \\
\mbox{\hyperlink{classrlbox_1_1tainted}{tainted}}$<$T$\ast$, T\+\_\+\+Sbx$>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::malloc\+\_\+in\+\_\+sandbox (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Allocate an array that is accessible to both the application and sandbox. The pointer is allocated in sandbox memory. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the array elements you want to create. If T=int, this would return a pointer to an array of ints.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em count} & The number of array elements to allocate.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tainted$<$\+T$\ast$, T\+\_\+\+Sbx$>$ Tainted pointer accessible to the application and sandbox. 
\end{DoxyReturn}
\mbox{\Hypertarget{classrlbox_1_1rlbox__sandbox_ae4f4cc7825bcb613ab5405e0f6cae7f3}\label{classrlbox_1_1rlbox__sandbox_ae4f4cc7825bcb613ab5405e0f6cae7f3}} 
\index{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}!register\_callback@{register\_callback}}
\index{register\_callback@{register\_callback}!rlbox::rlbox\_sandbox$<$ T\_Sbx $>$@{rlbox::rlbox\_sandbox$<$ T\_Sbx $>$}}
\doxysubsubsection{\texorpdfstring{register\_callback()}{register\_callback()}}
{\footnotesize\ttfamily template$<$typename T\+\_\+\+Sbx $>$ \\
template$<$typename T\+\_\+\+RL , typename T\+\_\+\+Ret , typename... T\+\_\+\+Args$>$ \\
\mbox{\hyperlink{classrlbox_1_1sandbox__callback}{sandbox\+\_\+callback}}$<$T\+\_\+\+Cb\+\_\+no\+\_\+wrap$<$T\+\_\+\+Ret, T\+\_\+\+Args...$>$$\ast$, T\+\_\+\+Sbx$>$ \mbox{\hyperlink{classrlbox_1_1rlbox__sandbox}{rlbox\+::rlbox\+\_\+sandbox}}$<$ T\+\_\+\+Sbx $>$\+::register\+\_\+callback (\begin{DoxyParamCaption}\item[{T\+\_\+\+Ret($\ast$)(T\+\_\+\+RL, T\+\_\+\+Args...)}]{func\+\_\+ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Expose a callback function to the sandboxed code. 


\begin{DoxyParams}{Parameters}
{\em func\+\_\+ptr} & The callback to expose.\\
\hline
\end{DoxyParams}

\begin{DoxyTemplParams}{Template Parameters}
{\em T\+\_\+\+RL} & Sandbox reference type (first argument). \\
\hline
{\em T\+\_\+\+Ret} & Return type of callback. Must be tainted or void. \\
\hline
{\em T\+\_\+\+Args} & Types of remaining callback arguments. Must be tainted.\\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
Wrapped callback function pointer that can be passed to the sandbox. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/shr/\+Code/\+Library\+Sandboxing/rlbox\+\_\+api\+\_\+cpp17/code/include/rlbox\+\_\+sandbox.\+hpp\end{DoxyCompactItemize}
